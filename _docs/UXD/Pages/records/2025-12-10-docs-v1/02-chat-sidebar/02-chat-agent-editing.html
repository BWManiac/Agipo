<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Sidebar - Agent Editing Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: 'rgb(229 231 235)',
                        input: 'rgb(229 231 235)',
                        ring: 'rgb(59 130 246)',
                        background: 'rgb(255 255 255)',
                        foreground: 'rgb(15 23 42)',
                        primary: {
                            DEFAULT: 'rgb(15 23 42)',
                            foreground: 'rgb(255 255 255)',
                        },
                        secondary: {
                            DEFAULT: 'rgb(243 244 246)',
                            foreground: 'rgb(15 23 42)',
                        },
                        muted: {
                            DEFAULT: 'rgb(243 244 246)',
                            foreground: 'rgb(107 114 128)',
                        },
                    },
                    borderRadius: {
                        lg: '0.625rem',
                        md: '0.425rem',
                        sm: '0.225rem',
                    }
                }
            }
        }
    </script>
    <style>
        .chat-message { animation: fadeIn 0.2s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(4px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse-slow { animation: pulse 2s ease-in-out infinite; }
        @keyframes typing {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        .typing-dot { animation: typing 1.4s ease-in-out infinite; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h2 class="text-lg font-semibold mb-4">Chat Sidebar - Agent Actively Editing</h2>
        <p class="text-sm text-muted-foreground mb-6">Shows the agent in the process of editing the document with live feedback.</p>

        <div class="flex gap-6">
            <!-- Document Preview (showing edit highlights) -->
            <div class="flex-1 bg-white border rounded-lg shadow-sm">
                <div class="p-4 border-b">
                    <h3 class="font-medium">Document Preview (with agent edits)</h3>
                    <p class="text-xs text-muted-foreground">Yellow highlight shows where agent is currently editing</p>
                </div>
                <div class="p-6 prose text-sm">
                    <h2 class="text-lg font-semibold">Recommendations</h2>
                    <p>Based on our analysis, we should focus on:</p>
                    <ol class="space-y-2">
                        <li><strong>Differentiation through AI</strong>: Our agent system is unique in the market</li>
                        <li><strong>Ease of use</strong>: Position as simpler than Competitor A</li>
                        <li class="bg-yellow-100 border-l-4 border-yellow-400 pl-2 animate-pulse-slow">
                            <strong>Enterprise features</strong>: More robust than Competitor C for scaling teams
                            <span class="inline-flex items-center ml-2 text-xs text-yellow-700">
                                <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                                </svg>
                                Agent editing...
                            </span>
                        </li>
                    </ol>

                    <!-- New content being added -->
                    <div class="mt-4 bg-green-50 border border-green-200 rounded-lg p-3">
                        <div class="flex items-center gap-2 text-xs text-green-700 mb-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                            New content being added by Zen Chang (Agent)
                        </div>
                        <div class="text-sm space-y-2 text-green-900">
                            <p><strong>Action Items:</strong></p>
                            <ul class="list-disc pl-4 space-y-1">
                                <li>Schedule competitive demo review - <em>Owner: Product Team</em></li>
                                <li>Draft positioning document - <em>Owner: Marketing</em></li>
                                <li>Identify top 5 enterprise features to build - <em>Owner: Engineering</em>
                                    <span class="inline-flex ml-1">
                                        <span class="typing-dot w-1 h-1 bg-green-600 rounded-full"></span>
                                        <span class="typing-dot w-1 h-1 bg-green-600 rounded-full mx-0.5"></span>
                                        <span class="typing-dot w-1 h-1 bg-green-600 rounded-full"></span>
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Sidebar Component -->
            <div class="w-80 bg-white border rounded-lg flex flex-col h-[600px] shadow-sm shrink-0">
                <!-- Agent Picker -->
                <div class="p-4 border-b">
                    <label class="text-xs font-medium text-muted-foreground mb-2 block">Chat with Agent</label>
                    <button class="w-full h-10 px-3 border rounded-md text-sm font-medium flex items-center gap-3 hover:bg-secondary transition-all">
                        <div class="w-7 h-7 rounded-md bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-white text-xs font-bold shrink-0 relative">
                            ZC
                            <!-- Active indicator -->
                            <span class="absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full"></span>
                        </div>
                        <div class="flex-1 text-left">
                            <div class="font-medium text-sm">Zen Chang</div>
                            <div class="text-xs text-green-600">Editing document...</div>
                        </div>
                    </button>
                </div>

                <!-- Status Banner -->
                <div class="px-4 py-2 bg-blue-50 border-b border-blue-100">
                    <div class="flex items-center gap-2">
                        <div class="w-5 h-5 rounded bg-blue-100 flex items-center justify-center animate-pulse-slow">
                            <svg class="w-3 h-3 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="text-xs font-medium text-blue-900">Agent is editing</p>
                            <p class="text-xs text-blue-700">Adding action items to Recommendations...</p>
                        </div>
                        <button class="text-xs text-blue-700 hover:text-blue-900 font-medium">Stop</button>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div class="flex-1 overflow-y-auto p-4 space-y-4">
                    <!-- User Message -->
                    <div class="chat-message flex justify-end">
                        <div class="max-w-[85%] bg-primary text-primary-foreground rounded-lg px-3 py-2 text-sm">
                            Make the recommendations more actionable with specific owners and timelines
                        </div>
                    </div>

                    <!-- Agent Response - In Progress -->
                    <div class="chat-message flex justify-start">
                        <div class="max-w-[85%] space-y-2">
                            <!-- Tool Indicator - In Progress -->
                            <div class="flex items-center gap-2 text-xs text-blue-600">
                                <div class="w-4 h-4 rounded bg-blue-100 flex items-center justify-center animate-pulse-slow">
                                    <svg class="w-3 h-3 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                                    </svg>
                                </div>
                                <span>Editing: Recommendations section</span>
                            </div>
                            <!-- Streaming Response -->
                            <div class="bg-secondary rounded-lg px-3 py-2 text-sm space-y-2">
                                <p>I'm making the recommendations actionable by:</p>
                                <ul class="text-xs text-muted-foreground space-y-1">
                                    <li class="flex items-center gap-1">
                                        <svg class="w-3 h-3 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                        </svg>
                                        Adding action items for each recommendation
                                    </li>
                                    <li class="flex items-center gap-1">
                                        <svg class="w-3 h-3 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                        </svg>
                                        Assigning owners (Product, Marketing, Engineering)
                                    </li>
                                    <li class="flex items-center gap-1">
                                        <div class="w-3 h-3 rounded-full border-2 border-blue-400 border-t-transparent animate-spin"></div>
                                        Adding suggested timelines...
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Input (disabled while editing) -->
                <div class="p-4 border-t bg-gray-50">
                    <div class="flex gap-2">
                        <input
                            type="text"
                            placeholder="Agent is editing..."
                            class="flex-1 h-10 px-3 bg-gray-100 border rounded-md text-sm cursor-not-allowed"
                            disabled
                        />
                        <button class="h-10 w-10 bg-gray-300 text-gray-500 rounded-md flex items-center justify-center cursor-not-allowed" disabled>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                            </svg>
                        </button>
                    </div>
                    <p class="text-xs text-muted-foreground mt-2">
                        Wait for agent to finish or click "Stop" above.
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
