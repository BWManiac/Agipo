<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>State Versioning - Agipo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: 'rgb(79, 70, 229)',
                        'primary-dark': 'rgb(67, 56, 202)',
                        secondary: 'rgb(16, 185, 129)',
                        accent: 'rgb(245, 158, 11)',
                        background: 'rgb(249, 250, 251)',
                        surface: 'rgb(255, 255, 255)',
                        'surface-dark': 'rgb(243, 244, 246)',
                        text: 'rgb(17, 24, 39)',
                        'text-secondary': 'rgb(75, 85, 99)',
                        'text-muted': 'rgb(156, 163, 175)',
                        border: 'rgb(229, 231, 235)',
                        error: 'rgb(239, 68, 68)',
                        warning: 'rgb(245, 158, 11)',
                        success: 'rgb(34, 197, 94)',
                        info: 'rgb(59, 130, 246)'
                    },
                    animation: {
                        'version-branch': 'version-branch 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)',
                        'timeline-scroll': 'timeline-scroll 2s ease-in-out infinite',
                        'diff-highlight': 'diff-highlight 0.6s ease-out',
                        'commit-pulse': 'commit-pulse 1.5s ease-in-out infinite',
                        'rollback-flow': 'rollback-flow 1s ease-in-out',
                        'version-compare': 'version-compare 0.5s ease-out'
                    },
                    keyframes: {
                        'version-branch': {
                            'from': { transform: 'scale(0.9) translateX(-20px)', opacity: '0' },
                            'to': { transform: 'scale(1) translateX(0)', opacity: '1' }
                        },
                        'timeline-scroll': {
                            '0%, 100%': { transform: 'translateY(0)', opacity: '0.7' },
                            '50%': { transform: 'translateY(-5px)', opacity: '1' }
                        },
                        'diff-highlight': {
                            '0%': { backgroundColor: 'rgb(249, 250, 251)' },
                            '50%': { backgroundColor: 'rgb(59, 130, 246, 0.1)' },
                            '100%': { backgroundColor: 'rgb(249, 250, 251)' }
                        },
                        'commit-pulse': {
                            '0%, 100%': { boxShadow: '0 0 0 0 rgb(79, 70, 229, 0.4)' },
                            '50%': { boxShadow: '0 0 0 10px rgb(79, 70, 229, 0)' }
                        },
                        'rollback-flow': {
                            '0%': { strokeDasharray: '0 100' },
                            '100%': { strokeDasharray: '100 0' }
                        },
                        'version-compare': {
                            'from': { transform: 'translateY(10px)', opacity: '0' },
                            'to': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-background text-text min-h-screen">
    <!-- Header -->
    <header class="bg-surface border-b border-border px-6 py-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <button class="flex items-center space-x-2 text-text-secondary hover:text-text transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    <span>Back to Dashboard</span>
                </button>
                <div class="flex items-center space-x-2">
                    <svg class="w-8 h-8 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <h1 class="text-xl font-semibold">State Versioning</h1>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-2 text-sm text-text-secondary">
                    <span>Current:</span>
                    <span class="font-mono bg-surface-dark px-2 py-1 rounded">v2.4.7</span>
                </div>
                <button class="px-4 py-2 text-text-secondary border border-border rounded-lg hover:bg-surface-dark transition-colors">
                    Create Checkpoint
                </button>
                <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors">
                    Commit Changes
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="flex">
        <!-- Version Timeline Sidebar -->
        <aside class="w-80 bg-surface border-r border-border min-h-[calc(100vh-73px)]">
            <div class="p-6">
                <!-- Current State -->
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Version Timeline</h3>
                        <button class="text-text-secondary hover:text-text">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                        </button>
                    </div>

                    <!-- Timeline -->
                    <div class="relative space-y-4 max-h-96 overflow-y-auto">
                        <!-- Current Version -->
                        <div class="relative animate-version-branch">
                            <div class="absolute left-4 top-0 w-px h-full bg-border"></div>
                            <div class="flex items-start space-x-4">
                                <div class="relative">
                                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-xs font-bold z-10 animate-commit-pulse">
                                        C
                                    </div>
                                </div>
                                <div class="flex-1 bg-primary/5 border border-primary/20 rounded-lg p-3">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium text-primary">v2.4.7</span>
                                        <span class="text-xs text-text-secondary">Current</span>
                                    </div>
                                    <p class="text-sm text-text-secondary mb-2">Added user preference injection rules</p>
                                    <div class="text-xs text-text-muted">
                                        <div>john.doe@company.com</div>
                                        <div>2 minutes ago</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Previous Versions -->
                        <div class="relative animate-version-branch" style="animation-delay: 0.1s;">
                            <div class="absolute left-4 top-0 w-px h-full bg-border"></div>
                            <div class="flex items-start space-x-4">
                                <div class="w-8 h-8 bg-success rounded-full flex items-center justify-center text-white text-xs font-bold">
                                    ✓
                                </div>
                                <div class="flex-1 bg-surface-dark border border-border rounded-lg p-3">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium">v2.4.6</span>
                                        <span class="text-xs text-success">Stable</span>
                                    </div>
                                    <p class="text-sm text-text-secondary mb-2">Enhanced security validation rules</p>
                                    <div class="text-xs text-text-muted">
                                        <div>jane.smith@company.com</div>
                                        <div>2 hours ago</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="relative animate-version-branch" style="animation-delay: 0.2s;">
                            <div class="absolute left-4 top-0 w-px h-full bg-border"></div>
                            <div class="flex items-start space-x-4">
                                <div class="w-8 h-8 bg-warning rounded-full flex items-center justify-center text-white text-xs font-bold">
                                    !
                                </div>
                                <div class="flex-1 bg-warning/5 border border-warning/20 rounded-lg p-3">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium">v2.4.5</span>
                                        <span class="text-xs text-warning">Rollback</span>
                                    </div>
                                    <p class="text-sm text-text-secondary mb-2">Performance optimization attempt</p>
                                    <div class="text-xs text-text-muted">
                                        <div>dev.team@company.com</div>
                                        <div>1 day ago</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="relative animate-version-branch" style="animation-delay: 0.3s;">
                            <div class="absolute left-4 top-0 w-px h-full bg-border"></div>
                            <div class="flex items-start space-x-4">
                                <div class="w-8 h-8 bg-success rounded-full flex items-center justify-center text-white text-xs font-bold">
                                    ✓
                                </div>
                                <div class="flex-1 bg-surface-dark border border-border rounded-lg p-3">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium">v2.4.4</span>
                                        <span class="text-xs text-success">Stable</span>
                                    </div>
                                    <p class="text-sm text-text-secondary mb-2">Database connection improvements</p>
                                    <div class="text-xs text-text-muted">
                                        <div>mike.wilson@company.com</div>
                                        <div>3 days ago</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="relative animate-version-branch" style="animation-delay: 0.4s;">
                            <div class="absolute left-4 top-0 w-px h-full bg-border"></div>
                            <div class="flex items-start space-x-4">
                                <div class="w-8 h-8 bg-info rounded-full flex items-center justify-center text-white text-xs font-bold">
                                    B
                                </div>
                                <div class="flex-1 bg-info/5 border border-info/20 rounded-lg p-3">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium">v2.4.3</span>
                                        <span class="text-xs text-info">Branch</span>
                                    </div>
                                    <p class="text-sm text-text-secondary mb-2">Feature flag experimental branch</p>
                                    <div class="text-xs text-text-muted">
                                        <div>feature.team@company.com</div>
                                        <div>1 week ago</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="mb-6">
                    <h4 class="text-sm font-medium text-text-secondary mb-3 uppercase tracking-wide">Quick Actions</h4>
                    <div class="space-y-2">
                        <button class="w-full flex items-center space-x-3 p-3 text-left hover:bg-surface-dark rounded-lg transition-colors">
                            <div class="w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2V7z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium">Create Checkpoint</p>
                                <p class="text-xs text-text-secondary">Save current state</p>
                            </div>
                        </button>

                        <button class="w-full flex items-center space-x-3 p-3 text-left hover:bg-surface-dark rounded-lg transition-colors">
                            <div class="w-8 h-8 bg-secondary/10 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium">Compare Versions</p>
                                <p class="text-xs text-text-secondary">View differences</p>
                            </div>
                        </button>

                        <button class="w-full flex items-center space-x-3 p-3 text-left hover:bg-surface-dark rounded-lg transition-colors">
                            <div class="w-8 h-8 bg-warning/10 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium">Rollback</p>
                                <p class="text-xs text-text-secondary">Revert to previous</p>
                            </div>
                        </button>

                        <button class="w-full flex items-center space-x-3 p-3 text-left hover:bg-surface-dark rounded-lg transition-colors">
                            <div class="w-8 h-8 bg-info/10 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-info" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium">Version Info</p>
                                <p class="text-xs text-text-secondary">View details</p>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Version Stats -->
                <div class="p-4 bg-surface-dark rounded-lg">
                    <h4 class="font-medium mb-3">Version Statistics</h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-text-secondary">Total Versions:</span>
                            <span class="font-medium">247</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-text-secondary">Stable:</span>
                            <span class="font-medium text-success">231</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-text-secondary">Rollbacks:</span>
                            <span class="font-medium text-warning">16</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-text-secondary">Active Branches:</span>
                            <span class="font-medium text-info">3</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Version Management Area -->
        <main class="flex-1 p-6">
            <!-- Version Comparison -->
            <div class="bg-surface rounded-xl border border-border p-6 mb-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-semibold">Version Comparison</h2>
                    <div class="flex items-center space-x-3">
                        <select class="px-3 py-2 border border-border rounded-lg text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all">
                            <option>v2.4.6 (Base)</option>
                            <option>v2.4.5</option>
                            <option>v2.4.4</option>
                            <option>v2.4.3</option>
                        </select>
                        <span class="text-text-secondary">vs</span>
                        <select class="px-3 py-2 border border-border rounded-lg text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all">
                            <option>v2.4.7 (Current)</option>
                            <option>v2.4.6</option>
                            <option>v2.4.5</option>
                            <option>v2.4.4</option>
                        </select>
                        <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm">
                            Compare
                        </button>
                    </div>
                </div>

                <!-- Diff View -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Left: v2.4.6 -->
                    <div class="animate-version-compare">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="font-semibold text-secondary">v2.4.6 (Base)</h3>
                            <span class="px-2 py-1 bg-secondary/10 text-secondary rounded-full text-xs">Stable</span>
                        </div>
                        <div class="bg-surface-dark border border-border rounded-lg p-4 h-80 overflow-y-auto">
                            <div class="font-mono text-sm space-y-1">
                                <div class="text-text-secondary">// State injection configuration</div>
                                <div>const stateConfig = {</div>
                                <div class="pl-4">userPreferences: {</div>
                                <div class="pl-8">enabled: false,</div>
                                <div class="pl-8">source: 'database',</div>
                                <div class="pl-8">cache: true</div>
                                <div class="pl-4">},</div>
                                <div class="pl-4">securityRules: {</div>
                                <div class="pl-8">adminAccess: true,</div>
                                <div class="pl-8">encryption: 'AES256'</div>
                                <div class="pl-4">},</div>
                                <div class="pl-4">apiIntegration: {</div>
                                <div class="pl-8">timeout: 5000,</div>
                                <div class="pl-8">retries: 3</div>
                                <div class="pl-4">}</div>
                                <div>};</div>
                            </div>
                        </div>
                    </div>

                    <!-- Right: v2.4.7 -->
                    <div class="animate-version-compare" style="animation-delay: 0.1s;">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="font-semibold text-primary">v2.4.7 (Current)</h3>
                            <span class="px-2 py-1 bg-primary/10 text-primary rounded-full text-xs">Current</span>
                        </div>
                        <div class="bg-surface-dark border border-border rounded-lg p-4 h-80 overflow-y-auto">
                            <div class="font-mono text-sm space-y-1">
                                <div class="text-text-secondary">// State injection configuration</div>
                                <div>const stateConfig = {</div>
                                <div class="pl-4">userPreferences: {</div>
                                <div class="pl-8 bg-success/20 animate-diff-highlight">enabled: true,</div>
                                <div class="pl-8">source: 'database',</div>
                                <div class="pl-8">cache: true,</div>
                                <div class="pl-8 bg-success/20 animate-diff-highlight" style="animation-delay: 0.1s;">validation: 'strict'</div>
                                <div class="pl-4">},</div>
                                <div class="pl-4">securityRules: {</div>
                                <div class="pl-8">adminAccess: true,</div>
                                <div class="pl-8">encryption: 'AES256',</div>
                                <div class="pl-8 bg-success/20 animate-diff-highlight" style="animation-delay: 0.2s;">roleBasedAccess: true</div>
                                <div class="pl-4">},</div>
                                <div class="pl-4">apiIntegration: {</div>
                                <div class="pl-8 bg-warning/20 animate-diff-highlight" style="animation-delay: 0.3s;">timeout: 8000,</div>
                                <div class="pl-8">retries: 3</div>
                                <div class="pl-4">}</div>
                                <div>};</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Diff Summary -->
                <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="p-4 bg-success/5 border border-success/20 rounded-lg text-center">
                        <p class="text-2xl font-bold text-success">+3</p>
                        <p class="text-sm text-text-secondary">Additions</p>
                    </div>
                    <div class="p-4 bg-warning/5 border border-warning/20 rounded-lg text-center">
                        <p class="text-2xl font-bold text-warning">1</p>
                        <p class="text-sm text-text-secondary">Modifications</p>
                    </div>
                    <div class="p-4 bg-error/5 border border-error/20 rounded-lg text-center">
                        <p class="text-2xl font-bold text-error">0</p>
                        <p class="text-sm text-text-secondary">Deletions</p>
                    </div>
                </div>
            </div>

            <!-- Rollback Interface -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- Rollback Manager -->
                <div class="bg-surface rounded-xl border border-border p-6">
                    <h3 class="text-lg font-semibold mb-4">Rollback Manager</h3>
                    
                    <div class="space-y-4">
                        <!-- Rollback Target Selection -->
                        <div>
                            <label class="block text-sm font-medium mb-2">Rollback Target</label>
                            <select class="w-full px-4 py-3 border border-border rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all">
                                <option>v2.4.6 - Enhanced security validation rules</option>
                                <option>v2.4.4 - Database connection improvements</option>
                                <option>v2.4.3 - Feature flag experimental branch</option>
                                <option>v2.4.2 - Performance optimization</option>
                            </select>
                        </div>

                        <!-- Rollback Options -->
                        <div>
                            <label class="block text-sm font-medium mb-2">Rollback Options</label>
                            <div class="space-y-3">
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="radio" name="rollback_type" class="text-primary focus:ring-primary" checked>
                                    <div>
                                        <span class="text-sm font-medium">Soft Rollback</span>
                                        <p class="text-xs text-text-secondary">Create new version with previous state</p>
                                    </div>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="radio" name="rollback_type" class="text-primary focus:ring-primary">
                                    <div>
                                        <span class="text-sm font-medium">Hard Rollback</span>
                                        <p class="text-xs text-text-secondary">Delete current version and revert</p>
                                    </div>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="radio" name="rollback_type" class="text-primary focus:ring-primary">
                                    <div>
                                        <span class="text-sm font-medium">Selective Rollback</span>
                                        <p class="text-xs text-text-secondary">Choose specific changes to revert</p>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- Impact Analysis -->
                        <div class="p-4 bg-warning/5 border border-warning/20 rounded-lg">
                            <h4 class="font-medium text-warning mb-2">Impact Analysis</h4>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-text-secondary">Affected Workflows:</span>
                                    <span class="font-medium">12</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-text-secondary">Active Injections:</span>
                                    <span class="font-medium">8</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-text-secondary">Data Loss Risk:</span>
                                    <span class="font-medium text-warning">Medium</span>
                                </div>
                            </div>
                        </div>

                        <!-- Rollback Actions -->
                        <div class="flex space-x-3">
                            <button class="flex-1 px-4 py-3 text-text-secondary border border-border rounded-lg hover:bg-surface-dark transition-colors">
                                Preview Changes
                            </button>
                            <button class="flex-1 px-4 py-3 bg-warning text-white rounded-lg hover:bg-warning/90 transition-colors animate-rollback-flow">
                                Execute Rollback
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Version Branching -->
                <div class="bg-surface rounded-xl border border-border p-6">
                    <h3 class="text-lg font-semibold mb-4">Version Branching</h3>
                    
                    <div class="space-y-4">
                        <!-- Branch Visualization -->
                        <div class="relative h-48">
                            <svg class="w-full h-full" viewBox="0 0 300 150">
                                <!-- Main Branch -->
                                <line x1="20" y1="75" x2="280" y2="75" stroke="rgb(79, 70, 229)" stroke-width="3"/>
                                
                                <!-- Branch Points -->
                                <circle cx="50" cy="75" r="5" fill="rgb(79, 70, 229)"/>
                                <circle cx="120" cy="75" r="5" fill="rgb(79, 70, 229)"/>
                                <circle cx="190" cy="75" r="5" fill="rgb(79, 70, 229)"/>
                                <circle cx="260" cy="75" r="5" fill="rgb(79, 70, 229)" class="animate-commit-pulse"/>
                                
                                <!-- Feature Branch -->
                                <path d="M 120 75 Q 140 55 160 55 L 200 55 Q 220 55 240 75" fill="none" stroke="rgb(59, 130, 246)" stroke-width="2" stroke-dasharray="5,5"/>
                                <circle cx="180" cy="55" r="4" fill="rgb(59, 130, 246)"/>
                                
                                <!-- Experimental Branch -->
                                <path d="M 50 75 Q 70 95 90 95 L 110 95 Q 130 95 150 75" fill="none" stroke="rgb(245, 158, 11)" stroke-width="2" stroke-dasharray="3,3"/>
                                <circle cx="100" cy="95" r="4" fill="rgb(245, 158, 11)"/>
                                
                                <!-- Labels -->
                                <text x="50" y="90" text-anchor="middle" fill="rgb(75, 85, 99)" font-size="10">v2.4.4</text>
                                <text x="120" y="90" text-anchor="middle" fill="rgb(75, 85, 99)" font-size="10">v2.4.5</text>
                                <text x="190" y="90" text-anchor="middle" fill="rgb(75, 85, 99)" font-size="10">v2.4.6</text>
                                <text x="260" y="90" text-anchor="middle" fill="rgb(75, 85, 99)" font-size="10">v2.4.7</text>
                                
                                <text x="180" y="45" text-anchor="middle" fill="rgb(59, 130, 246)" font-size="8">feature</text>
                                <text x="100" y="110" text-anchor="middle" fill="rgb(245, 158, 11)" font-size="8">experiment</text>
                            </svg>
                        </div>

                        <!-- Create Branch -->
                        <div>
                            <label class="block text-sm font-medium mb-2">Create New Branch</label>
                            <div class="flex space-x-2">
                                <input type="text" placeholder="Branch name..." class="flex-1 px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all">
                                <button class="px-4 py-2 bg-info text-white rounded-lg hover:bg-info/90 transition-colors">
                                    Create
                                </button>
                            </div>
                        </div>

                        <!-- Active Branches -->
                        <div>
                            <h4 class="font-medium mb-3">Active Branches</h4>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between p-3 bg-primary/5 border border-primary/20 rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-3 h-3 bg-primary rounded-full"></div>
                                        <span class="font-medium">main</span>
                                        <span class="text-xs bg-primary/20 px-2 py-1 rounded-full">v2.4.7</span>
                                    </div>
                                    <span class="text-xs text-success">Current</span>
                                </div>

                                <div class="flex items-center justify-between p-3 bg-surface-dark rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-3 h-3 bg-info rounded-full"></div>
                                        <span class="font-medium">feature/user-preferences</span>
                                        <span class="text-xs bg-text-muted/20 px-2 py-1 rounded-full">3 commits ahead</span>
                                    </div>
                                    <button class="text-xs text-info hover:underline">Merge</button>
                                </div>

                                <div class="flex items-center justify-between p-3 bg-surface-dark rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-3 h-3 bg-warning rounded-full"></div>
                                        <span class="font-medium">experiment/performance</span>
                                        <span class="text-xs bg-text-muted/20 px-2 py-1 rounded-full">1 commit ahead</span>
                                    </div>
                                    <button class="text-xs text-error hover:underline">Delete</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- State Change History -->
            <div class="bg-surface rounded-xl border border-border p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold">State Change History</h3>
                    <div class="flex items-center space-x-2">
                        <select class="px-3 py-2 border border-border rounded-lg text-sm focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all">
                            <option>All Changes</option>
                            <option>Additions Only</option>
                            <option>Modifications Only</option>
                            <option>Deletions Only</option>
                        </select>
                        <button class="px-3 py-2 text-text-secondary border border-border rounded-lg hover:bg-surface-dark transition-colors text-sm">
                            Export History
                        </button>
                    </div>
                </div>

                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="border-b border-border">
                            <tr>
                                <th class="text-left py-3 text-xs font-medium text-text-secondary uppercase tracking-wide">Version</th>
                                <th class="text-left py-3 text-xs font-medium text-text-secondary uppercase tracking-wide">Change Type</th>
                                <th class="text-left py-3 text-xs font-medium text-text-secondary uppercase tracking-wide">State Key</th>
                                <th class="text-left py-3 text-xs font-medium text-text-secondary uppercase tracking-wide">Old Value</th>
                                <th class="text-left py-3 text-xs font-medium text-text-secondary uppercase tracking-wide">New Value</th>
                                <th class="text-left py-3 text-xs font-medium text-text-secondary uppercase tracking-wide">Author</th>
                                <th class="text-left py-3 text-xs font-medium text-text-secondary uppercase tracking-wide">Date</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-border">
                            <tr class="hover:bg-surface-dark transition-colors animate-timeline-scroll">
                                <td class="py-3 text-sm font-mono">v2.4.7</td>
                                <td class="py-3">
                                    <span class="px-2 py-1 bg-success/10 text-success rounded-full text-xs">Added</span>
                                </td>
                                <td class="py-3 text-sm font-mono">userPreferences.validation</td>
                                <td class="py-3 text-sm text-text-muted">-</td>
                                <td class="py-3 text-sm font-mono">'strict'</td>
                                <td class="py-3 text-sm">john.doe</td>
                                <td class="py-3 text-sm">2 min ago</td>
                            </tr>

                            <tr class="hover:bg-surface-dark transition-colors animate-timeline-scroll" style="animation-delay: 0.1s;">
                                <td class="py-3 text-sm font-mono">v2.4.7</td>
                                <td class="py-3">
                                    <span class="px-2 py-1 bg-success/10 text-success rounded-full text-xs">Added</span>
                                </td>
                                <td class="py-3 text-sm font-mono">securityRules.roleBasedAccess</td>
                                <td class="py-3 text-sm text-text-muted">-</td>
                                <td class="py-3 text-sm font-mono">true</td>
                                <td class="py-3 text-sm">john.doe</td>
                                <td class="py-3 text-sm">2 min ago</td>
                            </tr>

                            <tr class="hover:bg-surface-dark transition-colors animate-timeline-scroll" style="animation-delay: 0.2s;">
                                <td class="py-3 text-sm font-mono">v2.4.7</td>
                                <td class="py-3">
                                    <span class="px-2 py-1 bg-warning/10 text-warning rounded-full text-xs">Modified</span>
                                </td>
                                <td class="py-3 text-sm font-mono">userPreferences.enabled</td>
                                <td class="py-3 text-sm font-mono">false</td>
                                <td class="py-3 text-sm font-mono">true</td>
                                <td class="py-3 text-sm">john.doe</td>
                                <td class="py-3 text-sm">2 min ago</td>
                            </tr>

                            <tr class="hover:bg-surface-dark transition-colors animate-timeline-scroll" style="animation-delay: 0.3s;">
                                <td class="py-3 text-sm font-mono">v2.4.7</td>
                                <td class="py-3">
                                    <span class="px-2 py-1 bg-warning/10 text-warning rounded-full text-xs">Modified</span>
                                </td>
                                <td class="py-3 text-sm font-mono">apiIntegration.timeout</td>
                                <td class="py-3 text-sm font-mono">5000</td>
                                <td class="py-3 text-sm font-mono">8000</td>
                                <td class="py-3 text-sm">john.doe</td>
                                <td class="py-3 text-sm">2 min ago</td>
                            </tr>

                            <tr class="hover:bg-surface-dark transition-colors animate-timeline-scroll" style="animation-delay: 0.4s;">
                                <td class="py-3 text-sm font-mono">v2.4.6</td>
                                <td class="py-3">
                                    <span class="px-2 py-1 bg-success/10 text-success rounded-full text-xs">Added</span>
                                </td>
                                <td class="py-3 text-sm font-mono">securityRules.encryption</td>
                                <td class="py-3 text-sm text-text-muted">-</td>
                                <td class="py-3 text-sm font-mono">'AES256'</td>
                                <td class="py-3 text-sm">jane.smith</td>
                                <td class="py-3 text-sm">2 hours ago</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <div class="flex items-center justify-between mt-4">
                    <div class="text-sm text-text-secondary">
                        Showing 5 of 89 state changes
                    </div>
                    <div class="flex items-center space-x-2">
                        <button class="px-3 py-2 text-text-secondary border border-border rounded-lg hover:bg-surface-dark transition-colors text-sm">
                            Load More
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>
</html>