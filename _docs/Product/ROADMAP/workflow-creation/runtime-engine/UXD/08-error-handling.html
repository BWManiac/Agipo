<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Runtime Engine - Error Handling</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: 'rgb(229 231 235)',
                        input: 'rgb(229 231 235)',
                        ring: 'rgb(59 130 246)',
                        background: 'rgb(255 255 255)',
                        foreground: 'rgb(15 23 42)',
                        primary: {
                            DEFAULT: 'rgb(15 23 42)',
                            foreground: 'rgb(255 255 255)',
                        },
                        secondary: {
                            DEFAULT: 'rgb(243 244 246)',
                            foreground: 'rgb(15 23 42)',
                        },
                        muted: {
                            DEFAULT: 'rgb(243 244 246)',
                            foreground: 'rgb(107 114 128)',
                        },
                    },
                    animation: {
                        'error-flash': 'errorFlash 0.5s ease-out',
                        'retry-pulse': 'retryPulse 1s ease-in-out infinite',
                        'alert-shake': 'alertShake 0.5s ease-in-out',
                        'recovery-success': 'recoverySuccess 0.6s ease-out',
                        'stack-collapse': 'stackCollapse 0.3s ease-out',
                        'diagnostic-scan': 'diagnosticScan 2s ease-in-out infinite',
                    },
                    keyframes: {
                        errorFlash: {
                            '0%': { backgroundColor: 'rgb(254 226 226)', borderColor: 'rgb(239 68 68)', transform: 'scale(1.01)' },
                            '100%': { backgroundColor: 'rgb(255 255 255)', borderColor: 'rgb(229 231 235)', transform: 'scale(1)' },
                        },
                        retryPulse: {
                            '0%, 100%': { backgroundColor: 'rgb(34 197 94)', transform: 'scale(1)' },
                            '50%': { backgroundColor: 'rgb(22 163 74)', transform: 'scale(1.05)' },
                        },
                        alertShake: {
                            '0%, 100%': { transform: 'translateX(0)' },
                            '25%': { transform: 'translateX(-2px)' },
                            '75%': { transform: 'translateX(2px)' },
                        },
                        recoverySuccess: {
                            '0%': { backgroundColor: 'rgb(220 252 231)', borderColor: 'rgb(34 197 94)', transform: 'scale(1.02)' },
                            '100%': { backgroundColor: 'rgb(255 255 255)', borderColor: 'rgb(229 231 235)', transform: 'scale(1)' },
                        },
                        stackCollapse: {
                            '0%': { maxHeight: '400px', opacity: '1' },
                            '100%': { maxHeight: '0', opacity: '0' },
                        },
                        diagnosticScan: {
                            '0%, 100%': { borderColor: 'rgb(59 130 246)', boxShadow: '0 0 0 0 rgba(59, 130, 246, 0.4)' },
                            '50%': { borderColor: 'rgb(147 197 253)', boxShadow: '0 0 0 4px rgba(59, 130, 246, 0.2)' },
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white border-b sticky top-0 z-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-4">
                    <h1 class="text-xl font-semibold">Error Handling</h1>
                    <span class="px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full animate-error-flash">
                        ‚ö†Ô∏è 3 Errors Detected
                    </span>
                </div>
                <div class="flex items-center gap-3">
                    <div class="text-sm text-muted-foreground">
                        Email Processing ‚Ä¢ Step 2/3 ‚Ä¢ Error at 14:32:45
                    </div>
                    <button class="px-4 py-2 text-sm border rounded-lg hover:bg-gray-50 transition-colors">
                        Export Error Report
                    </button>
                    <button class="px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors animate-retry-pulse">
                        Retry Failed Steps
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid grid-cols-4 gap-6">
            <!-- Left Sidebar: Error Overview -->
            <div class="space-y-4">
                <!-- Error Summary -->
                <div class="bg-white rounded-lg border p-4">
                    <div class="flex items-center gap-2 mb-3">
                        <div class="w-6 h-6 bg-red-100 rounded-lg flex items-center justify-center">
                            <svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 16.5c-.77.833-.192 2.5 1.732 2.5z"></path>
                            </svg>
                        </div>
                        <h3 class="text-sm font-medium">Error Summary</h3>
                    </div>

                    <div class="space-y-3">
                        <div class="p-3 bg-red-50 border border-red-200 rounded-lg animate-alert-shake">
                            <div class="text-sm font-medium text-red-900 mb-1">Email Processing Failed</div>
                            <div class="text-xs text-red-700 mb-2">3 errors, 7 items affected</div>
                            <div class="grid grid-cols-1 gap-1 text-xs">
                                <div class="flex items-center justify-between">
                                    <span class="text-muted-foreground">Failed items:</span>
                                    <span class="font-medium text-red-600">7 / 42</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-muted-foreground">Success rate:</span>
                                    <span class="font-medium text-red-600">83.3%</span>
                                </div>
                            </div>
                        </div>

                        <!-- Recovery Options -->
                        <div class="space-y-2 text-xs">
                            <div class="p-2 bg-green-50 border border-green-200 rounded animate-recovery-success">
                                <div class="font-medium text-green-900">Auto-recovery enabled</div>
                                <div class="text-green-700">2 retries remaining</div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-muted-foreground">Last attempt:</span>
                                <span class="font-medium">14:32:45</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-muted-foreground">Next retry:</span>
                                <span class="font-medium text-green-600">In 45s</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Error Categories -->
                <div class="bg-white rounded-lg border p-4">
                    <h3 class="text-sm font-medium mb-3">Error Categories</h3>
                    <div class="space-y-2">
                        <!-- API Errors -->
                        <div class="p-2 bg-red-50 border border-red-200 rounded">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-2">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <span class="text-xs font-medium">API Failures</span>
                                </div>
                                <span class="text-xs text-red-600">2</span>
                            </div>
                            <div class="text-xs text-muted-foreground mt-1">Gmail API rate limit exceeded</div>
                        </div>

                        <!-- Processing Errors -->
                        <div class="p-2 bg-orange-50 border border-orange-200 rounded">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-2">
                                    <div class="w-3 h-3 bg-orange-500 rounded-full"></div>
                                    <span class="text-xs font-medium">Processing</span>
                                </div>
                                <span class="text-xs text-orange-600">1</span>
                            </div>
                            <div class="text-xs text-muted-foreground mt-1">AI response parsing failed</div>
                        </div>

                        <!-- Network Errors -->
                        <div class="p-2 bg-gray-50 border border-gray-200 rounded">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-2">
                                    <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                                    <span class="text-xs font-medium">Network</span>
                                </div>
                                <span class="text-xs text-gray-600">0</span>
                            </div>
                        </div>

                        <!-- Configuration Errors -->
                        <div class="p-2 bg-gray-50 border border-gray-200 rounded">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-2">
                                    <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                                    <span class="text-xs font-medium">Configuration</span>
                                </div>
                                <span class="text-xs text-gray-600">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recovery Actions -->
                <div class="bg-white rounded-lg border p-4">
                    <h3 class="text-sm font-medium mb-3">Recovery Actions</h3>
                    <div class="space-y-2">
                        <button class="w-full px-3 py-2 text-xs bg-green-50 border border-green-200 text-green-700 rounded-lg hover:bg-green-100 transition-colors">
                            üîÑ Retry Failed Items
                        </button>
                        <button class="w-full px-3 py-2 text-xs border rounded-lg hover:bg-gray-50 transition-colors">
                            ‚è≠Ô∏è Skip Failed Items
                        </button>
                        <button class="w-full px-3 py-2 text-xs border rounded-lg hover:bg-gray-50 transition-colors">
                            üõ†Ô∏è Apply Suggested Fixes
                        </button>
                        <button class="w-full px-3 py-2 text-xs border border-red-200 text-red-700 rounded-lg hover:bg-red-50 transition-colors">
                            ‚èπÔ∏è Stop Execution
                        </button>
                    </div>
                </div>

                <!-- Error History -->
                <div class="bg-white rounded-lg border p-4">
                    <h3 class="text-sm font-medium mb-3">Recent Error History</h3>
                    <div class="space-y-2">
                        <div class="p-2 bg-red-50 rounded text-xs">
                            <div class="font-medium text-red-900">API Rate Limit</div>
                            <div class="text-red-700">14:32:45 - Gmail API</div>
                            <div class="text-muted-foreground">5 items affected</div>
                        </div>
                        <div class="p-2 hover:bg-gray-50 rounded text-xs cursor-pointer">
                            <div class="font-medium">Parse Error</div>
                            <div class="text-muted-foreground">14:30:12 - Email #8</div>
                        </div>
                        <div class="p-2 hover:bg-gray-50 rounded text-xs cursor-pointer">
                            <div class="font-medium">Timeout</div>
                            <div class="text-muted-foreground">14:28:34 - AI Response</div>
                        </div>
                    </div>
                </div>

                <!-- Diagnostics -->
                <div class="bg-white rounded-lg border p-4">
                    <h3 class="text-sm font-medium mb-3">System Diagnostics</h3>
                    <div class="space-y-3">
                        <div class="p-2 border border-blue-200 rounded animate-diagnostic-scan">
                            <div class="text-xs font-medium text-blue-900 mb-1">Running Diagnostics...</div>
                            <div class="w-full bg-blue-200 rounded-full h-1">
                                <div class="bg-blue-600 h-1 rounded-full animate-pulse" style="width: 65%"></div>
                            </div>
                        </div>
                        
                        <div class="space-y-1 text-xs">
                            <div class="flex items-center justify-between">
                                <span class="text-muted-foreground">API Health:</span>
                                <span class="text-yellow-600">‚ö†Ô∏è Degraded</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-muted-foreground">Memory Usage:</span>
                                <span class="text-green-600">‚úì Normal</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-muted-foreground">Network:</span>
                                <span class="text-green-600">‚úì Good</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Error Panel -->
            <div class="col-span-3 space-y-6">
                <!-- Current Error Details -->
                <div class="bg-white rounded-lg border">
                    <div class="px-6 py-4 border-b bg-red-50">
                        <div class="flex items-center justify-between">
                            <div>
                                <h3 class="text-lg font-semibold text-red-900">Gmail API Rate Limit Exceeded</h3>
                                <p class="text-sm text-red-700 mt-0.5">Error occurred while fetching emails (Step 1 of 3)</p>
                            </div>
                            <div class="text-sm">
                                <div class="text-red-700"><strong>14:32:45</strong></div>
                                <div class="text-red-600">5 items affected</div>
                            </div>
                        </div>
                    </div>

                    <div class="p-6">
                        <div class="grid grid-cols-2 gap-6">
                            <!-- Error Details -->
                            <div>
                                <h4 class="text-sm font-medium mb-4">Error Details</h4>
                                <div class="space-y-3">
                                    <div class="p-3 bg-gray-50 rounded-lg">
                                        <div class="text-xs text-muted-foreground mb-1">Error Type</div>
                                        <div class="text-sm font-medium text-red-600">RateLimitExceededError</div>
                                    </div>
                                    <div class="p-3 bg-gray-50 rounded-lg">
                                        <div class="text-xs text-muted-foreground mb-1">Error Code</div>
                                        <div class="text-sm font-medium">429</div>
                                    </div>
                                    <div class="p-3 bg-gray-50 rounded-lg">
                                        <div class="text-xs text-muted-foreground mb-1">Source Location</div>
                                        <div class="text-sm font-medium">email_fetcher.py:67</div>
                                    </div>
                                    <div class="p-3 bg-gray-50 rounded-lg">
                                        <div class="text-xs text-muted-foreground mb-1">Thread ID</div>
                                        <div class="text-sm font-medium font-mono">worker-thread-42</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Impact Assessment -->
                            <div>
                                <h4 class="text-sm font-medium mb-4">Impact Assessment</h4>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between p-3 bg-red-50 rounded-lg">
                                        <span class="text-sm">Items failed</span>
                                        <span class="font-medium text-red-600">5 / 42</span>
                                    </div>
                                    <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg">
                                        <span class="text-sm">Processing delayed</span>
                                        <span class="font-medium text-yellow-600">~2 minutes</span>
                                    </div>
                                    <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                                        <span class="text-sm">Retry strategy</span>
                                        <span class="font-medium text-blue-600">Exponential backoff</span>
                                    </div>
                                    <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                        <span class="text-sm">Recovery chance</span>
                                        <span class="font-medium text-green-600">High (95%)</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Error Message -->
                        <div class="mt-6">
                            <h4 class="text-sm font-medium mb-3">Full Error Message</h4>
                            <div class="bg-gray-900 text-gray-300 rounded p-4 font-mono text-xs">
                                <div class="text-red-400 mb-2">GmailAPIError: Rate limit exceeded for Gmail API</div>
                                <div class="text-gray-400">Details:</div>
                                <div class="ml-4 space-y-1">
                                    <div>- Quota exceeded: 250 requests per 100 seconds per user</div>
                                    <div>- Current usage: 267 requests in the last 100 seconds</div>
                                    <div>- Reset time: 2024-12-05T14:33:25Z (45 seconds)</div>
                                    <div>- Retry-After header: 45</div>
                                </div>
                                <div class="text-gray-400 mt-2">Affected emails:</div>
                                <div class="ml-4 space-y-1">
                                    <div>- Email #18: "Project Status Update"</div>
                                    <div>- Email #19: "Weekly Team Sync"</div>
                                    <div>- Email #20: "Client Feedback Review"</div>
                                    <div>- Email #21: "Budget Allocation Request"</div>
                                    <div>- Email #22: "Performance Metrics Q4"</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stack Trace and Context -->
                <div class="bg-white rounded-lg border">
                    <div class="px-6 py-4 border-b">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold">Stack Trace & Context</h3>
                            <button class="text-sm text-blue-600 hover:underline">Show Full Trace</button>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="grid grid-cols-2 gap-6">
                            <!-- Stack Trace -->
                            <div>
                                <h4 class="text-sm font-medium mb-3">Call Stack</h4>
                                <div class="bg-gray-900 text-gray-300 rounded p-4 font-mono text-xs max-h-64 overflow-y-auto">
                                    <div class="space-y-1">
                                        <div class="text-red-400">Traceback (most recent call last):</div>
                                        <div class="text-blue-400">  File "workflow_runner.py", line 234, in run_step</div>
                                        <div class="ml-4">result = await step.execute(inputs)</div>
                                        <div class="text-blue-400">  File "email_fetcher.py", line 67, in execute</div>
                                        <div class="ml-4">emails = await self.gmail_client.fetch_emails(query)</div>
                                        <div class="text-blue-400">  File "gmail_client.py", line 89, in fetch_emails</div>
                                        <div class="ml-4">response = await self.service.users().messages().list(**params).execute()</div>
                                        <div class="text-blue-400">  File "google/api_core/retry.py", line 145, in retry_wrapped_func</div>
                                        <div class="ml-4">return retry_target(target, predicate, sleep_generator, **kwargs)</div>
                                        <div class="text-red-400">GmailAPIError: Rate limit exceeded (429)</div>
                                        <div class="text-yellow-400 mt-2">During handling of the above exception, another exception occurred:</div>
                                        <div class="text-blue-400">  File "error_handler.py", line 23, in handle_api_error</div>
                                        <div class="ml-4">if error.status_code == 429:</div>
                                        <div class="text-blue-400">  File "retry_manager.py", line 45, in schedule_retry</div>
                                        <div class="ml-4">self.retry_queue.enqueue(failed_items, delay=retry_delay)</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Context Information -->
                            <div>
                                <h4 class="text-sm font-medium mb-3">Execution Context</h4>
                                <div class="space-y-3 text-xs">
                                    <div class="p-3 bg-blue-50 rounded">
                                        <div class="font-medium text-blue-900 mb-1">Request Context</div>
                                        <div class="space-y-1 text-blue-700">
                                            <div>Query: "is:unread from:team@company.com"</div>
                                            <div>Max results: 50</div>
                                            <div>Current batch: 18-22 (5 items)</div>
                                            <div>Timestamp: 2024-12-05T14:32:45.123Z</div>
                                        </div>
                                    </div>

                                    <div class="p-3 bg-purple-50 rounded">
                                        <div class="font-medium text-purple-900 mb-1">API Usage</div>
                                        <div class="space-y-1 text-purple-700">
                                            <div>Current quota: 267/250 requests</div>
                                            <div>Time window: 100 seconds</div>
                                            <div>Reset in: 45 seconds</div>
                                            <div>Daily limit: 1,547/1,000,000</div>
                                        </div>
                                    </div>

                                    <div class="p-3 bg-orange-50 rounded">
                                        <div class="font-medium text-orange-900 mb-1">Retry Configuration</div>
                                        <div class="space-y-1 text-orange-700">
                                            <div>Strategy: Exponential backoff</div>
                                            <div>Max retries: 3</div>
                                            <div>Initial delay: 45 seconds</div>
                                            <div>Backoff multiplier: 2.0</div>
                                        </div>
                                    </div>

                                    <div class="p-3 bg-green-50 rounded">
                                        <div class="font-medium text-green-900 mb-1">Recovery Options</div>
                                        <div class="space-y-1 text-green-700">
                                            <div>Auto-retry: Enabled</div>
                                            <div>Fallback strategy: Queue items</div>
                                            <div>Circuit breaker: Open (45s)</div>
                                            <div>Success probability: 95%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Failed Items List -->
                <div class="bg-white rounded-lg border">
                    <div class="px-6 py-4 border-b">
                        <h3 class="text-lg font-semibold">Failed Items (5)</h3>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead class="bg-gray-50 border-b">
                                <tr>
                                    <th class="text-left p-3 font-medium text-muted-foreground">Item</th>
                                    <th class="text-left p-3 font-medium text-muted-foreground">Error</th>
                                    <th class="text-left p-3 font-medium text-muted-foreground">Failed At</th>
                                    <th class="text-left p-3 font-medium text-muted-foreground">Retry Count</th>
                                    <th class="text-left p-3 font-medium text-muted-foreground">Next Retry</th>
                                    <th class="text-left p-3 font-medium text-muted-foreground">Actions</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y">
                                <tr class="hover:bg-gray-50 animate-error-flash">
                                    <td class="p-3">
                                        <div class="font-medium">Email #18</div>
                                        <div class="text-xs text-muted-foreground">Project Status Update</div>
                                    </td>
                                    <td class="p-3">
                                        <span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded">Rate Limit (429)</span>
                                    </td>
                                    <td class="p-3">
                                        <div>14:32:45</div>
                                        <div class="text-xs text-muted-foreground">2 minutes ago</div>
                                    </td>
                                    <td class="p-3">
                                        <div>0 / 3</div>
                                        <div class="text-xs text-muted-foreground">First attempt</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="text-green-600">In 43s</div>
                                        <div class="text-xs text-muted-foreground">Auto-retry</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="flex items-center gap-1">
                                            <button class="px-2 py-1 text-xs text-green-600 hover:bg-green-50 rounded transition-colors">
                                                Retry Now
                                            </button>
                                            <button class="px-2 py-1 text-xs text-gray-600 hover:bg-gray-50 rounded transition-colors">
                                                Skip
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr class="hover:bg-gray-50">
                                    <td class="p-3">
                                        <div class="font-medium">Email #19</div>
                                        <div class="text-xs text-muted-foreground">Weekly Team Sync</div>
                                    </td>
                                    <td class="p-3">
                                        <span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded">Rate Limit (429)</span>
                                    </td>
                                    <td class="p-3">
                                        <div>14:32:45</div>
                                        <div class="text-xs text-muted-foreground">2 minutes ago</div>
                                    </td>
                                    <td class="p-3">
                                        <div>0 / 3</div>
                                        <div class="text-xs text-muted-foreground">First attempt</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="text-green-600">In 43s</div>
                                        <div class="text-xs text-muted-foreground">Auto-retry</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="flex items-center gap-1">
                                            <button class="px-2 py-1 text-xs text-green-600 hover:bg-green-50 rounded transition-colors">
                                                Retry Now
                                            </button>
                                            <button class="px-2 py-1 text-xs text-gray-600 hover:bg-gray-50 rounded transition-colors">
                                                Skip
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr class="hover:bg-gray-50">
                                    <td class="p-3">
                                        <div class="font-medium">Email #20</div>
                                        <div class="text-xs text-muted-foreground">Client Feedback Review</div>
                                    </td>
                                    <td class="p-3">
                                        <span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded">Rate Limit (429)</span>
                                    </td>
                                    <td class="p-3">
                                        <div>14:32:45</div>
                                        <div class="text-xs text-muted-foreground">2 minutes ago</div>
                                    </td>
                                    <td class="p-3">
                                        <div>0 / 3</div>
                                        <div class="text-xs text-muted-foreground">First attempt</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="text-green-600">In 43s</div>
                                        <div class="text-xs text-muted-foreground">Auto-retry</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="flex items-center gap-1">
                                            <button class="px-2 py-1 text-xs text-green-600 hover:bg-green-50 rounded transition-colors">
                                                Retry Now
                                            </button>
                                            <button class="px-2 py-1 text-xs text-gray-600 hover:bg-gray-50 rounded transition-colors">
                                                Skip
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr class="hover:bg-gray-50">
                                    <td class="p-3">
                                        <div class="font-medium">Email #21</div>
                                        <div class="text-xs text-muted-foreground">Budget Allocation Request</div>
                                    </td>
                                    <td class="p-3">
                                        <span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded">Rate Limit (429)</span>
                                    </td>
                                    <td class="p-3">
                                        <div>14:32:45</div>
                                        <div class="text-xs text-muted-foreground">2 minutes ago</div>
                                    </td>
                                    <td class="p-3">
                                        <div>0 / 3</div>
                                        <div class="text-xs text-muted-foreground">First attempt</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="text-green-600">In 43s</div>
                                        <div class="text-xs text-muted-foreground">Auto-retry</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="flex items-center gap-1">
                                            <button class="px-2 py-1 text-xs text-green-600 hover:bg-green-50 rounded transition-colors">
                                                Retry Now
                                            </button>
                                            <button class="px-2 py-1 text-xs text-gray-600 hover:bg-gray-50 rounded transition-colors">
                                                Skip
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr class="hover:bg-gray-50">
                                    <td class="p-3">
                                        <div class="font-medium">Email #22</div>
                                        <div class="text-xs text-muted-foreground">Performance Metrics Q4</div>
                                    </td>
                                    <td class="p-3">
                                        <span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded">Rate Limit (429)</span>
                                    </td>
                                    <td class="p-3">
                                        <div>14:32:45</div>
                                        <div class="text-xs text-muted-foreground">2 minutes ago</div>
                                    </td>
                                    <td class="p-3">
                                        <div>0 / 3</div>
                                        <div class="text-xs text-muted-foreground">First attempt</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="text-green-600">In 43s</div>
                                        <div class="text-xs text-muted-foreground">Auto-retry</div>
                                    </td>
                                    <td class="p-3">
                                        <div class="flex items-center gap-1">
                                            <button class="px-2 py-1 text-xs text-green-600 hover:bg-green-50 rounded transition-colors">
                                                Retry Now
                                            </button>
                                            <button class="px-2 py-1 text-xs text-gray-600 hover:bg-gray-50 rounded transition-colors">
                                                Skip
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Bulk Actions -->
                    <div class="px-6 py-4 border-t bg-gray-50 flex items-center justify-between">
                        <div class="text-sm text-muted-foreground">
                            5 failed items selected
                        </div>
                        <div class="flex items-center gap-3">
                            <button class="px-4 py-2 text-sm border rounded-lg hover:bg-white transition-colors">
                                Skip All Selected
                            </button>
                            <button class="px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors animate-retry-pulse">
                                Retry All Selected
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Suggested Solutions -->
                <div class="bg-white rounded-lg border">
                    <div class="px-6 py-4 border-b">
                        <h3 class="text-lg font-semibold">Suggested Solutions</h3>
                    </div>
                    <div class="p-6 space-y-4">
                        <div class="flex gap-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                            <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shrink-0">
                                <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <div class="text-sm font-medium text-blue-900">Wait for Rate Limit Reset</div>
                                <div class="text-xs text-blue-700 mt-1">
                                    The Gmail API rate limit will reset in 43 seconds. The auto-retry mechanism is already configured to wait for this reset.
                                    This is the recommended approach for temporary rate limits.
                                </div>
                                <button class="text-xs text-blue-600 hover:underline mt-2">Configure Auto-Retry Settings</button>
                            </div>
                        </div>

                        <div class="flex gap-4 p-4 bg-green-50 border border-green-200 rounded-lg">
                            <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center shrink-0">
                                <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <div class="text-sm font-medium text-green-900">Adjust Batch Size</div>
                                <div class="text-xs text-green-700 mt-1">
                                    Consider reducing the batch size from 5 to 2-3 items to stay within rate limits. This will make the workflow more resilient to API limitations.
                                </div>
                                <button class="text-xs text-green-600 hover:underline mt-2">Update Workflow Configuration</button>
                            </div>
                        </div>

                        <div class="flex gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                            <div class="w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center shrink-0">
                                <span class="text-white text-xs font-bold">!</span>
                            </div>
                            <div>
                                <div class="text-sm font-medium text-yellow-900">Add Circuit Breaker</div>
                                <div class="text-xs text-yellow-700 mt-1">
                                    Implement a circuit breaker pattern to prevent cascading failures. This will automatically stop making requests when error rates exceed threshold.
                                </div>
                                <button class="text-xs text-yellow-600 hover:underline mt-2">Learn About Circuit Breakers</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</body>
</html>